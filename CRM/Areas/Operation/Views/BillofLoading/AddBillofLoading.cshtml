@{
    ViewBag.Title = "AddBillofLoading";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div data-ng-controller="BillofLoadingCtrl">
    <div class="row" data-ng-init="SetBillofLoadingId(@ViewBag.id,@ViewBag.isdisable)">
        <div class="col-sm-12">
            <form accessible-form role="form" name="FormBillofLoadingInfo" id="FormBillofLoadingInfo" ng-class="{'submitted': submitted}" ng-submit="submitted = true" novalidate>
                <fieldset ng-disabled="isClicked">
                    <div class="box box-info">
                        <div class="box-header with-border">
                            <div>
                                <h3 class="box-title">
                                    <span data-ng-if="addMode">Add</span>
                                    <span data-ng-if="!addMode">Edit</span> BillofLoading
                                </h3>
                            </div>
                            <div>
                                <span><a href="~/Operation/BillofLoading"> <i class="fa fa-chevron-left"></i> Back</a></span>
                            </div>
                        </div>
                    </div>
                    <div class="box-body">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title" style="margin:0">Main Details</h3>
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="ShipperName"> Shipper Name:<span class="text-danger">*</span> </label>
                                                <elaunch-autocomplete min-chars="0" mode="BuyerMaster" id="ShipperNameData" isdisplay="true"
                                                                      placeholder="Enter Name" tabindex="2"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.ShipperNameData">
                                                </elaunch-autocomplete>
                                                <span class="errorMsg" ng-show="submitted && (objBillofLoading.ShipperNameData.Display ==''||objBillofLoading.ShipperNameData.Display == null)"><i class="fa fa-exclamation-triangle"></i> &nbsp;Shipper Name is required.</span>

                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="ShipperAddress"> Shipper Address:<span class="text-danger">*</span> </label>
                                                <elaunch-autocomplete min-chars="0" mode="BuyerAddressDetail" id="ShipperAddress" isdisplay="objBillofLoading.ShipperNameData.Value!=''"
                                                                      placeholder="Enter Address" tabindex="2" related-value="objBillofLoading.ShipperNameData.Value"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.ShipperAddressData">
                                                </elaunch-autocomplete>
                                                <span class="errorMsg" ng-show="submitted && (objBillofLoading.ShipperAddressData.Display ==''||objBillofLoading.ShipperAddressData.Display ==null)"><i class="fa fa-exclamation-triangle"></i> &nbsp;Address is required.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="ConsigneeName">Consignee Name :<span class="text-danger">*</span> </label>
                                                <elaunch-autocomplete min-chars="0" mode="BuyerMaster" id="ConsigneeNameData" isdisplay="true"
                                                                      placeholder="Enter Name" tabindex="2"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.ConsigneeNameData">
                                                </elaunch-autocomplete>
                                                <span class="errorMsg" ng-show="submitted && (objBillofLoading.ConsigneeNameData.Display ==''||objBillofLoading.ConsigneeNameData.Display == null)"><i class="fa fa-exclamation-triangle"></i> &nbsp;Name is required.</span>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="ConsigneeAddress">Address :<span class="text-danger">*</span> </label>
                                                <elaunch-autocomplete min-chars="0" mode="BuyerAddressDetail" id="ConsigneeAddress" isdisplay="objBillofLoading.ConsigneeNameData.Value!=''"
                                                                      placeholder="Enter Address" tabindex="2" related-value="objBillofLoading.ConsigneeAddressData.Value"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.ConsigneeAddressData">
                                                </elaunch-autocomplete>
                                                <span class="errorMsg" ng-show="submitted && (objBillofLoading.ConsigneeAddressData.Display ==''||objBillofLoading.ConsigneeAddressData.Display ==null)"><i class="fa fa-exclamation-triangle"></i> &nbsp;Address is required.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>



                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <h3 class="panel-title" style="margin:0">Details</h3>
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="Freight"> Freight: </label>
                                                <input type="text" class="form-control" id="Freight" name="Freight" data-ng-model="objBillofLoading.Freight">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="POL">Port Of Loading :<span class="text-danger">*</span> </label>
                                                <elaunch-autocomplete min-chars="0" mode="PortMaster" id="POL" isdisplay="true"
                                                                      placeholder="Enter Telephone" tabindex="2"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.POLData" ng-required="true">
                                                </elaunch-autocomplete>
                                                <span class="errorMsg" ng-show="submitted && (objBillofLoading.POLData.Display ==''||objBillofLoading.POLData.Display ==null)"><i class="fa fa-exclamation-triangle"></i> &nbsp;Port Of Loading is required.</span>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="POD">Port Of Discharge :<span class="text-danger">*</span> </label>
                                                <elaunch-autocomplete min-chars="0" mode="PortMaster" id="POD" isdisplay="true"
                                                                      placeholder="Enter Fax" tabindex="2"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.PODData" ng-required="true">
                                                </elaunch-autocomplete>
                                                <span class="errorMsg" ng-show="submitted && (objBillofLoading.PODData.Display ==''||objBillofLoading.PODData.Display ==null)"><i class="fa fa-exclamation-triangle"></i> &nbsp;Port Of Discharge is required.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="ShippingMarksNumber"> Shipping Marks & Number: </label>
                                                <input type="text" class="form-control" id="ShippingMarksNumber" name="ShippingMarksNumber" data-ng-model="objBillofLoading.ShippingMarksNumber">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="TotalNOPkgs"> Total NO Pkgs: </label>
                                                <input type="text" class="form-control" id="TotalNOPkgs" name="TotalNOPkgs" data-ng-model="objBillofLoading.TotalNOPkgs">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="GrossWeight"> Gross Weight: </label>
                                                <input type="text" class="form-control" id="GrossWeight" name="GrossWeight" data-ng-model="objBillofLoading.GrossWeight">
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="NetWeight">Net Weight: </label>
                                                <input type="text" class="form-control" id="NetWeight" name="NetWeight" data-ng-model="objBillofLoading.NetWeight">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="VolMeasurement" class="control-label">Vol Measurement :</label>
                                                <input type="text" class="form-control" id="VolMeasurement" name="VolMeasurement" data-ng-model="objBillofLoading.VolMeasurement">
                                            </div>
                                        </div>

                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="CompanyName" class="control-label">Company:<span class="text-danger">*</span></label>
                                                <elaunch-autocomplete min-chars="0" mode="CompanyMaster" id="State" name="CompanyName" placeholder="Enter State" isdisplay="true"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.CompanyNameData" tabindex="7">
                                                </elaunch-autocomplete>
                                                <span class="errorMsg" ng-show="submitted && (objBillofLoading.CompanyNameData.Display == '' || objBillofLoading.CompanyNameData.Display == null)"><i class="fa fa-exclamation-triangle"></i> &nbsp;Company Name is required.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="col-sm-8">
                                            <div class="form-group">
                                                <label for="ProductDescriptionData"> Product Description: </label>
                                                <elaunch-autocomplete min-chars="0" mode="ProductMaster" id="ProductDescriptionData" isdisplay="true"
                                                                      placeholder="Enter Product Description" name="ProductDescriptionData" tabindex="6"
                                                                      value-changed="callback(value)" ng-model="objBillofLoading.ProductDescriptionData">
                                                </elaunch-autocomplete>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <br />
                                                <input type="button" class="btn btn-primary" name="btnProductDescription" ng-click="AddProduct(objBillofLoading)" value="Add Product">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <table class="table table-hover">
                                                        <thead>
                                                            <tr>

                                                                <th>Product</th>

                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr data-ng-repeat="list in objBillofLoading.ProductDetails | filter: statusFilter">

                                                                <td>{{list.ProductName || '-' }}</td>

                                                                <td>
                                                                    <a href="#" class="btn btn-danger btn-xs" data-final-confirm-box="" data-callback="DeleteProduct(list,$index)" data-message="Are you sure want to delete?" data-tooltip="Delete" data-tooltip-placement="top" data-tooltip-trigger="mouseenter"><i class="fa fa-trash pr2"></i></a>
                                                                </td>
                                                            </tr>
                                                            <tr data-ng-show="objBillofLoading.PurchaseDetails.length <= 0">
                                                                <td colspan="3"> <span class="text-danger text-center"> Record not found.</span> </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>



                                <div class="row">


                                </div>
                            </div>
                        </div>

                    </div>
                </fieldset>

                <div class="box-footer">
                    <button type="submit" class="btn btn-default btn-info btn-icon icon-left" data-ng-if="addMode && isClicked == false" data-ng-click="objBillofLoading.ShipperNameData.Display != ''  && objBillofLoading.ConsigneeName.Display != '' && objBillofLoading.CompanyNameData.Display != '' && FormBillofLoadingInfo.$valid && CreateUpdate(objBillofLoading)" tabindex="13"> <i class="fa fa-save"></i>Save</button>
                    <button type="submit" class="btn btn-default btn-info btn-icon icon-left" data-ng-if="!addMode && isClicked == false" data-ng-click="objBillofLoading.ShipperNameData.Display != ''  && objBillofLoading.ConsigneeName.Display != '' && objBillofLoading.CompanyNameData.Display != '' && FormBillofLoadingInfo.$valid && CreateUpdate(objBillofLoading)" tabindex="14"><i class="fa fa-edit"></i>Update</button>
                </div>
            </form>
        </div>
    </div>
</div>


@section Scripts
{
    @Scripts.Render("~/bundles/ElaunchControls")
    @Scripts.Render("~/bundles/BillofLoading")
}
